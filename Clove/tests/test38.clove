/**
 * Test more advanced Reflection API
 */

log("Advanced Reflection API");
log();

const urlText = "https://my-json-server.typicode.com/typicode/demo/posts";

const result = reflect("java.lang.StringBuilder");
const url = reflect("java.net.URL", [urlText]);
const connection = ("java.net.HttpURLConnection") url.openConnection();
connection.setRequestMethod("GET");
log(connection.getRequestMethod());
//const reader = Reflect(CONSTRUCT: "java.io.BufferedReader", ("java.io.Reader") Reflect(CONSTRUCT: "java.io.InputStreamReader", ("java.io.InputStream") connection.getInputStream()));

//string line = reader.readLine();

//result.append(line);
//while (!(line == "")) {
//    result.append(line);
//    line = reader.readLine();
//}

//reader.close();

//print(result.toString());
